@{
    ViewData["Title"] = "Staff Dashboard";
    var username = Context.Session.GetString("Username");
}

<link rel="stylesheet" href="~/css/admin-dashboard.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />

<div class="admin-dashboard">
    <div class="dashboard-header">
        <h1 class="animate__animated animate__fadeIn">Welcome, @username!</h1>
    </div>

    <div class="dashboard-stats">
        <div class="stat-card animate__animated animate__fadeInUp">
            <i class="fas fa-calendar-check"></i>
            <div class="stat-info">
                <h3>Today's Reservations</h3>
                <div class="stat-number">@ViewBag.TodaysReservations</div>
            </div>
        </div>

        <div class="stat-card animate__animated animate__fadeInUp" style="animation-delay: 0.2s">
            <i class="fas fa-tasks"></i>
            <div class="stat-info">
                <h3>Pending Services</h3>
                <div class="stat-number">@ViewBag.PendingServices</div>
            </div>
        </div>

        <div class="stat-card animate__animated animate__fadeInUp" style="animation-delay: 0.4s">
            <i class="fas fa-comments"></i>
            <div class="stat-info">
                <h3>New Feedback</h3>
                <div class="stat-number">@ViewBag.NewFeedback</div>
            </div>
        </div>
    </div>

    <div class="dashboard-grid">
        <div class="card animate__animated animate__fadeInLeft">
            <div class="card-header">
                <i class="fas fa-calendar-alt"></i>
                <h3>Facility Reservations</h3>
            </div>
            <div class="card-body">
                <a href="@Url.Action("Index", "FacilityReservation")" class="btn btn-primary">
                    <i class="fas fa-calendar-check"></i>
                    Manage Reservations
                </a>
            </div>
        </div>

        <div class="card animate__animated animate__fadeInLeft" style="animation-delay: 0.2s">
            <div class="card-header">
                <i class="fas fa-tools"></i>
                <h3>Service Requests</h3>
            </div>
            <div class="card-body">
                <a href="@Url.Action("ManageRequests", "ServiceRequests")" class="btn btn-primary">
                    <i class="fas fa-clipboard-list"></i>
                    Manage Services
                </a>
            </div>
        </div>

        <div class="card animate__animated animate__fadeInLeft" style="animation-delay: 0.4s">
            <div class="card-header">
                <i class="fas fa-file-invoice-dollar"></i>
                <h3>Billing Management</h3>
            </div>
            <div class="card-body">
                <a href="@Url.Action("AdminDashboard", "Billing")" class="btn btn-primary">
                    <i class="fas fa-chart-line"></i>
                    Billing Dashboard
                </a>
                <a href="@Url.Action("ManageBills", "Billing")" class="btn btn-secondary">
                    <i class="fas fa-file-invoice"></i>
                    Manage Bills
                </a>
            </div>
        </div>

        <div class="card animate__animated animate__fadeInLeft" style="animation-delay: 0.6s">
            <div class="card-header">
                <i class="fas fa-comment-dots"></i>
                <h3>Feedback & Complaints</h3>
            </div>
            <div class="card-body">
                <a href="@Url.Action("Index", "Feedback")" class="btn btn-primary">
                    <i class="fas fa-comments"></i>
                    Manage Feedback
                </a>
            </div>
        </div>

        <div class="card animate__animated animate__fadeInLeft" style="animation-delay: 0.6s">
            <div class="card-header">
                <i class="fas fa-poll"></i>
                <h3>Polls & Surveys</h3>
            </div>
            <div class="card-body">
                <a href="@Url.Action("Index", "Poll")" class="btn btn-primary">
                    <i class="fas fa-chart-bar"></i>
                    View Polls
                </a>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Add intersection observer for animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate__animated', 'animate__fadeIn');
                }
            });
        });

        document.querySelectorAll('.card').forEach((el) => observer.observe(el));
    </script>
}